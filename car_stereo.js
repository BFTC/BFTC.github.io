function gEID(t){return document.getElementById(t)}function showEl(t){gEID(t).style.visibility="visible"}function hideEl(t){gEID(t).style.visibility="hidden"}function fadeEl(t,e){gEID(t).style.opacity=e}function setZ(t,e){gEID(t).style.zIndex=e}function rgb2hex(t){function e(t){return("0"+parseInt(t).toString(16)).slice(-2)}if(-1!=t.search("rgb"))return"#"+e((t=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/))[1])+e(t[2])+e(t[3]);alert("The rgb2hex function cannot convert this value: rgb="+t)}function getBG(){return window.currentBgColor=rgb2hex(window.getComputedStyle(document.body,null).backgroundColor),gEID("colorBtn").value=window.currentBgColor,window.currentBgColor}function testColor(t){document.body.style.backgroundColor=t.target.value}function lastChance(){gEID("colorBtn").value=window.currentBgColor,showEl("colorChange")}function changeIt(){hideEl("colorChange"),hideEl("colorBtn"),getBG()}function noChange(){hideEl("colorChange"),hideEl("colorBtn"),document.body.style.backgroundColor=window.currentBgColor,getBG()}function setBG(t){"[object String]"===Object.prototype.toString.call(t)&&t.match(/^#[0-9a-f]{6}$/)?(document.body.style.backgroundColor=t,gEID("colorBtn").value=getBG()):document.body.style.backgroundColor=t.target.value,hideEl("colorBtn")}function toggleBtns(){var t=window.currentStation,e=gEID("stnHP");rdo.paused?(hideEl("rdoDivHist"),e.style.visibility="hidden",e.href="",e.target=""):(showEl("rdoDivHist"),e.target="_blank",e.href=window[t+"HP"],e.style.visibility="visible")}function hms(){var t=window.playStart;t=Date.now()-t;var e=Math.floor(t/36e5);t-=36e5*e;var o=Math.floor(t/6e4);t-=6e4*o;var n=Math.floor(t/1e3);lT.innerHTML="Playing: "+pad(e,2)+":"+pad(o,2)+":"+pad(n,2)}function playTime(){setInterval(hms,1e3)}function pushBtns(t){for(var e=document.getElementsByClassName("rdoStnBtns"),o=gEID("rdoDivStnBtn"+t),n=0;n<e.length;n++)e[n].style.opacity=0,e[n].style.cursor="pointer";o.style.opacity=1,o.style.cursor="default"}function stnInfo(t){if(t)switch(t){case"yom":gEID("stationName").innerHTML="Yesterday Once More",pushBtns("1");break;case"bwr":gEID("stationName").innerHTML="Bandwagon Radio",pushBtns("2");break;case"glr":gEID("stationName").innerHTML="Grand Lake Radio",pushBtns("3");break;case"4":gEID("stationName").innerHTML="4",pushBtns("4");break;case"5":gEID("stationName").innerHTML="5",pushBtns("5");break;case"6":gEID("stationName").innerHTML="6",pushBtns("6")}}function toggleSrc(t){if(clearSS(),clearInterval(nowplayingUpdater),""===t)rdo.setAttribute("src","");else{var e="src"+t;rdo.setAttribute("src",window[e]+";"),!0===rdoPlaying&&(rdo.play(),playStart=Date.now(),NowPlaying(),window.nowplayingUpdater=setInterval(NowPlaying,1e3*window.UpdateTime))}stnInfo(t),toggleBtns()}function onOff(t){t<0&&!rdo.paused?(rdo.volume=0,rdoPlaying=!1,toggleSrc(""),rdoEffects.setAttribute("src","rdoOFF.ogg"),rdoEffects.play(),document.title="It's a start..."):t>=0&&rdo.paused&&(rdo.volume=t,rdoPlaying=!0,toggleSrc(window.currentStation),rdoEffects.setAttribute("src","rdoON.ogg"),rdoEffects.play())}function changeVol(t){rdo.volume=t}function gCen(t){var e=t.getBoundingClientRect();return[e.left+(e.right-e.left)/2,e.top+(e.bottom-e.top)/2]}function gAng(t,e){var o=gCen(t),n=180*Math.atan2(e[1]-o[1],e[0]-o[0])/Math.PI-90;return n>360&&(n-=360),n<0&&(n=360+n),n<55&&n>=0&&(n=40),n>=55&&n<=70&&(n=70),n>320&&n<=360&&(n=320),n}function sAngP(t,e){var o=gEID("rdoKnobVol"),n=[t,e],r="";angRot=gAng(o,n),angRot>=70?(r=Math.round((angRot-70)/2.5)/100,angRot=250*r+70,changeVol(r),onOff(r)):(onOff(-1),angRot=40),o.style.transform="rotate("+angRot+"deg)"}function sAngD(t){var e=0,o=gEID("rdoKnobVol"),n=250*rdo.volume+70;n+t>=70&&n+t<=320?(n=250*(e=(n-70+t)/2.5/100)+70,changeVol(e),onOff(e),o.style.transform="rotate("+n+"deg)"):n+t<70&&(onOff(-1),n=40,o.style.transform="rotate("+n+"deg)")}function getPL(t,e){var o=new XMLHttpRequest;return o.open(t,e,!0),o}function changeClass(t,e,o){o?t.classList.contains(e)?(t.classList.remove(e),t.offsetWidth,t.classList.add(e)):t.classList.add(e):t.classList.contains(e)?t.classList.remove(e):(t.classList.add(e),t.offsetWidth,t.classList.remove(e))}function NowPlaying(){var t=getPL("get","https://cors-anywhere.herokuapp.com/"+window["src"+window.currentStation]+"played.html");t&&(t.onload=function(){window.tR=t.responseText;var e="&nbsp;&nbsp;&mdash;&nbsp;&nbsp;";startPos=window.tR.search(/Song Title<\/b><\/td>/)+49,endPos=window.tR.search(/<td><b>Current Song/);var o=window.tR.slice(startPos,endPos);if(o!==lastPlayed){document.title=o,lastPlayed=o;var n=o.length,r=gEID("banner");n>35?(changeClass(r,"scroll",!0),r.style.width="auto",e=o+e,r.innerHTML=n<50?e.repeat(50):n<60?e.repeat(40):e.repeat(32)):(changeClass(r,"scroll",!1),r.style.width="100%",r.innerHTML=o)}},t.send())}function openPlayHistory(){window.open("",window.currentStation).document.write(window.tR)}function slideBGColor(){return"rgb("+Math.round(255*Math.random())+","+Math.round(255*Math.random())+","+Math.round(255*Math.random())+")"}function slidePos(){return"translate("+(Math.round(130*Math.random())-115)+"%,"+(Math.round(30*Math.random())-65)+"%)"}function pad(t,e){return(String(0).repeat(e)+String(t)).slice(String(t).length)}function initSlideShow(){ssTimer>10&&(contnr.style.display="block",contnr.style.backgroundColor=getBG(),slideShow())}function clearSS(){clearTimeout(ssTimeout),clearTimeout(looperA),clearTimeout(looperB)}function stopSlideShow(){clearSS(),fadeEl("slideA",0),fadeEl("slideB",0),document.webkitExitFullscreen&&document.webkitExitFullscreen(),contnr.style.display="none"}function slideShow(){function t(){sldA.style.transform=slidePos(),contnr.style.backgroundColor=slideBGColor(),lpT=Math.round(Math.random()*lpPlusT)+lpMinT,looperA=setTimeout(t,lpT)}function e(){sldB.style.transform=slidePos(),contnr.style.backgroundColor=slideBGColor(),lpT=Math.round(Math.random()*lpPlusT)+lpMinT,looperB=setTimeout(e,lpT)}var o=window.getComputedStyle(sldA).getPropertyValue("opacity"),n=Math.round(114*Math.random());1!=o?(sldB.style.opacity=0,sldB.style.transform=slidePos(),clearTimeout(looperB),sldA.src="quotes/wdy_quotes_"+pad(n,4)+".jpg",t(),sldA.style.opacity=1):(sldA.style.opacity=0,sldA.style.transform=slidePos(),clearTimeout(looperA),sldB.src="quotes/wdy_quotes_"+pad(n,4)+".jpg",e(),sldB.style.opacity=1),window.ssTimeout=setTimeout(slideShow,6e4*slideInterval)}function getPos(t){sAngP(t.pageX,t.pageY)}var stnList=["yom","bwr","glr"],currentBgColor,currentStation="yom",srcyom="http://yom.purestream.net:6072/",srcbwr="http://radio.purestream.net:7072/",srcglr="http://205.164.41.50:1976/",yomHP="http://yomiradio.com/ht/",bwrHP="http://www.bandwagonradio.com/ht/",glrHP="http://grandlakeradionetwork.com/",tR="",rdo=gEID("radio"),rdoEffects=gEID("pgEffects"),rdoPlaying=!1,nowplayingUpdater="",lastPlayed="",playStart="",lT=gEID("listenTime"),updatePlayTime="",UpdateTime=63,ssTimer=300,slideInterval=3,ssTimeout=-1,contnr=gEID("ssContainer"),sldA=gEID("slideA"),sldB=gEID("slideB"),lpMinT=8e3,lpPlusT=2e4,lpT=0,looperA="",looperB="",inactivityTime=function(){function t(){clearTimeout(e),stopSlideShow(),e=setTimeout(initSlideShow,1e3*ssTimer)}var e;document.onmousemove=t,document.onmousedown=t,document.onclick=t,document.onkeypress=t},draggyVol=gEID("rdoKnobVol");draggyVol.addEventListener("mousedown",function(t){t.preventDefault(),t.stopPropagation(),getPos(t),this.style.cursor="move",document.body.style.cursor="move",document.addEventListener("mousemove",getPos),document.addEventListener("mouseup",function(t){document.removeEventListener("mousemove",getPos),document.removeEventListener("mouseup",getPos),draggyVol.style.cursor="pointer",document.body.style.cursor="default"})}),draggyVol.addEventListener("wheel",function(t){t.preventDefault(),t.stopPropagation(),sAngD(t.deltaY/53*2.5)}),document.onkeyup=function(t){switch((t=t).which){case 37:if(0===(e=stnList.indexOf(window.currentStation))){o=stnList[2];window.currentStation=o,toggleSrc(o)}else{o=stnList[e-1];window.currentStation=o,toggleSrc(o)}break;case 38:sAngD(2.5);break;case 39:var e=stnList.indexOf(window.currentStation);if(e<2){o=stnList[e+1];window.currentStation=o,toggleSrc(o)}else{var o=stnList[0];window.currentStation=o,toggleSrc(o)}break;case 40:sAngD(-2.5)}},rdo.volume=0,rdoEffects.volume=.25,gEID("colorBtn").value=getBG(),gEID("colorBtn").addEventListener("input",testColor,!1),gEID("colorBtn").addEventListener("change",lastChance,!1),stnInfo("yom"),inactivityTime();